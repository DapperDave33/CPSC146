#include <iostream>
#include <cmath>
#include <iomanip>
#include <string>

//Credit Card Variable Declaration;

    string USERS[5] = {"shiela berman", "frick maven", "david wolf", "emily warren", "frick maven"};
    string nameCC = ""; // Name on card
    string numberCC = ""; // Credit Card Number
	string billAddress = ""; //Billing Address
	string cvsCC = "";
    int expiryMonthCC = 0;
	int expiryYearCC = 0;

    cout << "Please enter your credit card details.\nName on Card: " << endl;
    	cin.ignore();
    getline(cin, nameCC);
    bool exist = false;
    exist = (nameCC == USERS[0]
		or nameCC == USERS[1]
    	or nameCC == USERS[2]
    	or nameCC == USERS[3]
    	or nameCC == USERS[4]);
    bool valid_length = false;
    valid_length = ((nameCC.length() >= 2) && (nameCC.length() <=16));
    bool nameConfirm = false;
    nameConfirm = exist && valid_length;
    if (!(nameConfirm)) {
    	cout << "Name on card validation failed." << endl;
    }
    cout << "Enter the 4 digit Credit Card Number with no spaces: " << endl;
    cin.ignore();
    getline(cin, numberCC);

    bool alldigits = false;
    bool numberCCflag = false;
    alldigits = ((isdigit(numberCC[0])) && (isdigit(numberCC[1]))
    		 && (isdigit(numberCC[2])) && (isdigit(numberCC[3])));
    numberCCflag = ((numberCC.length() > 3) && (numberCC.length() < 5));
    bool numberConfirm = false;
    numberConfirm = ((!(numberCCflag)) && (!(alldigits)));
    if (!(numberConfirm)) {
    	cout << "Credit card validation failed." << endl;
    }
    cout << "Date of Expiration (month) (1-12): " << endl;
    	cin >> expiryMonthCC;
    cout << "Date of Expiration (year) (yyyy): " << endl;
        cin >> expiryYearCC;
        cin.clear();
        cin.ignore(255,'\n');
    bool expiryMonthConfirm = false;
    bool expiryYearConfirm = false;
    expiryMonthConfirm = ((expiryMonthCC >= 1) && (expiryMonthCC <= 12));
    expiryYearConfirm = ((expiryYearCC < 2099) && (expiryYearCC >= 2022));
    if ((!(expiryMonthConfirm)) || (!(expiryYearConfirm))){
    	cout << "Credit card expired!" << endl;
    }
    cout << "Please input CVS Number " << endl;
        cin >> cvsCC;
        bool numberCvsflag = false;
        bool cvsalldigits = false;
        	cvsalldigits = ((isdigit(cvsCC[0])) && (isdigit(cvsCC[1])) && (isdigit(cvsCC[2])));
        	numberCvsflag = (cvsCC.length() == 3);
        bool cvsConfirm = numberCvsflag && cvsalldigits;
        if (!(cvsConfirm)){
        	cout << "Invalid CVS number!" << endl;
        }
        cout << "Please enter a billing address. " << endl;
        cin >> billAddress;
        bool billingConfirm = false;
        billingConfirm = ((billAddress.size() > 4) && (billAddress.size() < 8));
        if(!(billingConfirm)) {
            cout << "This is not a valid billing address. " << endl;
        }
    if ((nameConfirm) && (numberConfirm) && (expiryMonthConfirm) &&
    	(expiryYearConfirm) && (cvsConfirm) && (billingConfirm)){
    	cout << "\nCredit card accepted. Processing payment." << endl;
    }
    	else {
    		cout << "\nCredit card is not accepted. Payment failed." << endl;
    	}
        	return 0;
    }


